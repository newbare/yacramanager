<div class="panel panel-default am-fade">
	<div class="panel-body">
		<div class="row">
			<div class="col-md-4">
				<!-- Single button -->
				<div class="">
					<button type="button" class="btn btn-default dropdown-toggle"
						data-toggle="dropdown">
						{{selectedActionLabel}} <span class="fa fa-chevron-circle-down"></span>
					</button>
					<ul class="dropdown-menu" role="menu">
						<li ng-repeat="type in absencesType" ng-model="selectedAction"><a
							href="" ng-click="changeActionSelection(type)">{{type.label}}</a></li>
					</ul>
					<button type="button" class="btn btn-default"
						ng-show="initialSelectionChanged" ng-click="reset()">
						Reset</button>
				</div>
			</div>
		</div>
		<div class="row">

			<div class="panel panel-primary " ng-show="initialSelectionChanged">
				<div class="panel-heading">
					<h3 class="panel-title">Ajouter {{selectedActionLabel}}</h3>
				</div>
				<div class="panel-body">
					<form role="form" class="col-md-6">
						<div class="form-group">
							<label for="absenceDescription">(Facultatif)</label> <input
								type="text" class="form-control" id="absenceDescription"
								ng-model="currentAbsence.description"
								placeholder="Enter a description">
						</div>
						<div class="form-group">
							<label for="datepicker">Select date range</label>
							<div class="input-group" id="datepicker">
								<input type="text" class=" form-control " name="start"
									ng-model="currentAbsence.startDate" placeholder="From"
									bs-datepicker /> <span class="input-group-addon">to</span> <input
									type="text" class=" form-control " name="end"
									ng-model="currentAbsence.endDate" placeholder="Until"
									bs-datepicker />
							</div>
						</div>
						<div class="form-group">
							<label> <input type="checkbox"
								ng-model="currentAbsence.startAfternoon" /> <span>Start
									from afternoon</span>
							</label>
						</div>
						<div class="form-group">
							<label> <input type="checkbox"
								ng-model="currentAbsence.endMorning" /> <span>End after
									morning</span>
							</label>
						</div>
						<!--  <div class="form-group">
					    <label for="exampleInputFile">File input</label>
					    <input type="file" id="exampleInputFile">
					    <p class="help-block">Example block-level help text here.</p>
					  </div> -->
						<button type="button" class="btn btn-primary pull-right"
							ng-click="postAbsence()" bs-alert>Submit</button>
					</form>
				</div>
			</div>
		</div>
		<div class="row">
			<table class="table table-striped table-condensed table-hover" ng-table="tableParams" show-filter="true">
				<thead>
					<tr>
						<th>Posted</th>
						<th>From</th>
						<th>To</th>
						<th>Description</th>
						<th style="width:20px;">Validation</th>
						<th style="width:20px;"></th>
						<!-- <th style="width:20px;"></th>
						<th style="width:20px;"></th> -->
					</tr>
				</thead>
				<tbody>
					<tr align="left" data-ng-repeat="absence in $data">
						<td>{{ absence.postedDate | date : 'medium'}}</td>
						<td>{{ absence.startDate | date : dateFormat }}</td>
						<td>{{ absence.endDate | date : dateFormat }}</td>
						<td>{{ absence.description }}</td>
						<td align="center"><span class="icon" data-ng-class="{'validated fa fa-check-circle' : absence.validated , 'not-validated fa fa-times-circle' : !absence.validated}"></span></td>
						<!-- <td>
							<button type="button" class="btn btn-default">
							<span class="fa fa-pencil-square-o"></span><small>Edit</small>
							</button>
						</td>
						<td>
							<button type="button" class="btn btn-danger" data-ng-click="deleteAbsence(absence.id)">
							<span class="fa fa-trash-o"></span><small>Delete</small>
							</button>
						</td> -->
						<td>
							<div class="btn-group">
							  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
							    <i class="fa fa-cog"></i>
							  </button>
							  <ul class="dropdown-menu" role="menu">
							    <li data-ng-show="!absence.validated"><a href="" data-ng-click="validateAbsence(absence.id)"><i class="fa fa-check" style="color: green;"></i>Validate</a></li>
							    <li><a href="" data-ng-click="editAbsence(absence.id)"><i class="fa fa-pencil-square-o"></i>Edit</a></li>
							    <li class="divider"></li>
							    <li><a href="" data-ng-click="deleteAbsence(absence.id)"><i class="fa fa-trash-o" style="color: red;"></i>Delete</a></li>
							  </ul>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>
