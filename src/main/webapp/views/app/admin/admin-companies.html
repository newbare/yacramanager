<div class="panel panel-default">
	<div class="panel-heading">{{page.title}}</div>
	<div class="panel-body">
		<div class="row">
			<div class="col-md-4">
				<!-- Single button -->
				<div class="">
					<button type="button" class="btn btn-default" data-template="../views/app/templates/edit-company.tpl.html" data-bs-modal="modal" >
						<span class="fa fa-plus-square" ></span> Register a company
					</button>
				</div>
			</div>
		</div>
		<div class="row">
			<fieldset data-collapsible-fieldset="Filter">
				<div class="row">
					<div class="col-md-9">
						<form role="form">
							 <div class="form-group">
		    					<label for="period">Company Name</label>
								<input class="form-control" data-ng-model="companyNameFilter" placeholder="Filter with name" >
							</div>
							<!-- <div class="form-group">
	    						<label for="datepicker">Select date range</label>
								<div class="input-group" id="datepicker">
									<input type="text" class=" form-control " name="start" ng-model="startDate" placeholder="From" bs-datepicker/>
									<span class="input-group-addon">to</span>
									<input type="text" class=" form-control " name="end" ng-model="endDate" placeholder="Until" bs-datepicker />	
								</div>
							</div> -->
								<!-- <button type="button" class="btn btn-primary pull-right" ng-click="retrieveCra()">Filter</button> -->
						</form>
					</div>
				</div>
			</fieldset>
			<div class="alert alert-info" role="alert" data-ng-show="!hasDatas">
				<h4>No data for this range</h4>
			</div>
			<div class="row pull-right" data-ng-show="hasDatas"> 
				<div class="btn-group">
				  <button type="button" class="btn btn-default" data-ng-click="refreshDatas()">
				    <i class="fa fa-refresh"></i> Refresh 
				  </button>
				</div>
			</div>
			<div class="table-responsive">
				<table class="table table-striped table-bordered table-hover" data-ng-table="tableParams" ng-show="hasDatas">
						<tr align="left" data-ng-repeat="company in $data" class="">
							<td data-title="'Registered date'" data-sortable="'registeredDate'">{{ company.registeredDate | date : 'short'}}</td>
							<td data-title="'Company name'" data-sortable="'name'">{{ company.name}}</td>
							<td data-title="'Contacts'">
								<ul>
									<li data-ng-repeat="contact in company.contacts"><a  href="mailto:{{contact.email}}">{{contact.email}}</a> - {{contact.numeroTelephone}}</li>
								</ul>
							</td>
							<td data-title="'License End Date'" data-sortable="'licenseEndDate'">{{ company.licenseEndDate | date : dateFormat }}</td>
							<td style="width:20px;">
								<div class="btn-group">
								 <button type="button" class="btn btn-link dropdown-toggle" style="color: grey;" data-toggle="dropdown">
								    <i class="fa fa-cog"></i><span class="caret"></span>
								  </button>
								  <ul class="dropdown-menu" role="menu">
								    <li><a href="" data-ng-click="editCompany(company.id)"><i class="fa fa-pencil-square-o"></i>Edit</a></li>
								    <li class="divider"></li>
								    <li><a href="" data-ng-click="deleteCompany(company.id)"><i class="fa fa-trash-o" style="color: red;"></i>Delete</a></li>
								  </ul>
								</div>
							</td>
						</tr>
				</table>
			</div>
		</div>
	</div>
</div>
