<div class="panel panel-default am-fade">
	<div class="panel-body">
		<div class="row">
			<div class="btn-toolbar" role="toolbar">
			  <div class="btn-group btn-group-sm">
			  	<button type="button" class="btn btn-default"  data-template="../views/app/templates/edit-worklog.tpl.html"
					data-bs-modal="modal">
					<strong>+</strong> Ajouter
				</button>
			  </div>
			  <div class="btn-group btn-group-sm pull-right">
                     <button class="btn btn-success" data-ng-class="{'active' : currentView=='week'}" data-ng-click="updateCurrentview('week')">{{'app.timesheet.toolbar.agendaWeek' | translate}}</button>
                     <button class="btn btn-success" data-ng-class="{'active' : currentView=='month'}" data-ng-click="updateCurrentview('month')">{{'app.timesheet.toolbar.agendaMonth' | translate}}</button>
			  </div>
			  <div class="btn-group btn-group-sm pull-right">
				<button class="btn btn-default" data-ng-class="{'active' : isTodaySelected()}" data-ng-disabled="isTodaySelected()" data-ng-click="today()">{{'app.timesheet.toolbar.today' | translate}}</button>
				<button class="btn btn-default" ><i class="fa fa-calendar"></i></button>
			  </div>
			  			  
			</div>
		</div>
		<div data-ng-criteria-bar data-criteria-bar-config="criteriaBarConfig" data-do-filter="doFilter(criteriaBarConfig.filters)"></div>		
		<div class="row">
			<ul class="pager">
			  <li class="previous"><a href=""  data-ng-click="previous()"><i class="fa fa-long-arrow-left"></i>{{'app.timesheet.toolbar.previous' | translate}}</a></li>
			  <li><span><strong>{{dateRange.startDate.toDate() | date : shortDate}} - {{dateRange.endDate.toDate() | date : shortDate}}</strong></span></li>
			  <li class="next"><a href="" data-ng-click="next()">{{'app.timesheet.toolbar.next' | translate}} <i class="fa fa-long-arrow-right"></i></a></li>
			</ul>
		</div>
		<div class="" data-ng-repeat="employeCraDetail in craDetails.employeCraDetailsDTOs">
			<hr data-ng-show="craDetails.employeCraDetailsDTOs.length>1">
			<div class="row">
				<div class="btn-toolbar" role="toolbar">
					<div class="btn-group"><h4><span class="label label-info"> {{employeCraDetail.employeName}}</span></h4></div>
					<div class="btn-group btn-group-sm pull-right">
	                     <button class="btn btn-default dropdown-toggle" data-toggle="dropdown"><i class="fa fa-file-o"></i> Export <span class="caret"></span></button>
	                     <ul class="dropdown-menu" role="menu">
						    <li><a href="#"><i class="fa fa-file-pdf-o"></i> Pdf</a></li>
						    <li><a href="#"><i class="fa fa-file-excel-o"></i> Excel</a></li>
						  </ul>
	                     <button class="btn btn-default" ><i class="fa fa-print"></i> Print</button>
				  	</div>
				  	<div class="btn-group btn-group-sm pull-right">
						<button class="btn btn-success" data-ng-show="isCurrentEmploye(employeCraDetail.employeId)">Send for validation</button>
					</div>
			  	</div>
			</div>
			<div class="row">
			<div class="col-md-4">
				<fieldset data-collapsible-fieldset="Used on selected period">
					<div>
						<div class="row"><div class="col-md-3"><span>Conge paye: </span></div><div class="col-md-3"><span class="label label-info">12</span></div></div>
						<div class="row"><div class="col-md-3"><span>RTT: </span></div><div class="col-md-3"><span class="label label-info">12</span></div></div>
					</div>
				</fieldset>
			</div>
			<div class="col-md-4">
				<fieldset data-collapsible-fieldset="Extra time">
				</fieldset>
			</div>
			<div class="col-md-4">
				<fieldset data-collapsible-fieldset="Available">
					<div>
						<div class="row"><div class="col-md-3"><span>Conge paye: </span></div><div class="col-md-3"><span class="label label-info">12</span></div></div>
						<div class="row"><div class="col-md-3"><span>RTT: </span></div><div class="col-md-3"><span class="label label-info">12</span></div></div>
					</div>
				</fieldset>
			</div>
		</div>
			<div class="cra-container">
			<div class="table-responsive">
			<table class="table table-condensed table-bordered">
				<thead>
					<tr>
					     <th class="cra-table-task">Task</th>
					     <th style="width: 10px;" data-ng-repeat="day in employeCraDetail.days" data-ng-class="{'cra-we' : day.dayOff}">
					     	<small>{{day.date | date : craDateFormat}}</small>
					     </th>
					     <th style="width: 80px;"></th>
					</tr>
				</thead>
				<tbody>
					<tr data-ng-repeat="taskRow in employeCraDetail.taskRows">
						<td class="cra-table-task">{{taskRow.project.name}} - {{taskRow.task.name}}</td>
						<td data-ng-repeat="day in employeCraDetail.days" data-ng-class="{'cra-we' : day.dayOff}" style="width: 10px;">
							<a href="#" editable-text="taskRow.duration[day.date]" buttons="no" e-style="width: 30px;">{{ taskRow.duration[day.date] || 0 | duration  }}</a>
						</td>
						<td></td>
					</tr>
					<tr data-ng-show="employeCraDetail.craAbsenceDetail">
						<td>Time off</td>
						<td data-ng-repeat="day in employeCraDetail.days" data-ng-class="{'cra-we' : day.dayOff}" style="width: 10px;">
							<a href="#" editable-text="employeCraDetail.craAbsenceDetail.duration[day.date]" buttons="no" e-style="width: 30px;">{{ employeCraDetail.craAbsenceDetail.duration[day.date]  || 0 | duration }}</a>
						</td>
						<td style="width: 80px;"></td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td><button class="btn btn-primary btn-sm"> Add Task</button></td>
						<td data-ng-repeat="day in employeCraDetail.days"></td>
						<td style="width: 80px;"></td>
					</tr>
				</tfoot>
			</table>
		</div>
		</div>
		</div>
		<!-- <div class="row">
			<div class="col">
				<span >Compte rendu d'activité sur
					la période du <strong>{{respStartDate | date : dateFormat}}</strong> au <strong>{{respEndDate | date : dateFormat}}</strong></span>
			</div>
		</div>
		<div class="cra-container">
			<div class="table-responsive">
				<table class="table cra-table table-condensed table-bordered" data-ng-show="cra.days.length>=1">
					<tr>
						<td></td>
						<th data-ng-repeat="day in cra.days" data-ng-class="{'cra-we' : day.dayOff}"><small>{{day.date | date : craDateFormat}}</small></th>
					</tr>
					<tr>
						<td>M</td>
						<td data-ng-repeat="day in cra.days" data-ng-class="{'cra-we' : day.dayOff}">
							<label data-placement="bottom-left" data-type="info" data-animation="am-fade-and-scale" data-bs-tooltip="{'title':day.morning.absenceDTO.type +' '+ day.morning.absenceDTO.description}">
	  							<input type="checkbox" class="custom-checkbox"	data-ng-model="day.morning.worked" value="{{day.morning.worked}}" data-ng-disabled="day.dayOff || day.morning.absenceDTO!=null" />
								<span></span>
							</label>
						</td>
					</tr>
					<tr>
						<td>A</td>
						<td data-ng-repeat="day in cra.days" data-ng-class="{'cra-we' : day.dayOff}">
							<label data-placement="bottom-left" data-type="info" data-animation="am-fade-and-scale" data-bs-tooltip="{'title':day.afternoon.absenceDTO.type +' '+ day.afternoon.absenceDTO.description}">
	  							<input type="checkbox" class="custom-checkbox" ng-model="day.afternoon.worked" value="{{day.afternoon.worked}}" ng-disabled="day.dayOff || day.afternoon.absenceDTO!=null"/>
								<span></span>
							</label>
						</td>
					</tr>
				</table>
			</div>
			<div class="alert alert-info" role="alert" ng-show="cra.days.length<1"">
				<h4>No data for this range</h4>
			</div>
		</div> -->
	</div>
</div>