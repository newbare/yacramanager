<div class="row">
	<h3><strong><a href="#" onaftersave="updateClient()" buttons="no" editable-text="client.name">{{ client.name || 'Name' | uppercase}}</a></strong></h3>
	<span class="text-muted">Created on {{client.createdDate  | date:'medium'}}</span>
</div>
<h3 class="header smaller lighter blue">{{client.projects.length}} Projects for {{ client.name || 'Name' }}</h3>
<div class="row">
	<div class="col-lg-6">
		<div class="input-group input-group-sm">
			<span class="input-group-addon "><i class="fa fa-search"></i></span>
			<input type="text" data-ng-model="projectFilter" class="form-control input-sm" placeholder="Filter projects">
			 <span class="input-group-btn">
				<button class="btn btn-success" data-ng-click="addNewProject(client)"><i class="fa fa-plus"></i> Add project</button>
			</span>
		</div>
	</div>
</div>
<ul class="list-group">
  <li class="list-group-item am-fade"  data-ng-repeat="project in client.projects | searchField: 'name': 'description' | filter: projectFilter" >
    <ul class="list-inline">
    	<span style="float: right;" data-ng-if="!project.isnew">
    		<a href="{{appContextPath}}app/view/#/company/projects/view/quickview/{{project.id}}">
				Go to <i class="fa fa-arrow-right"></i>
			</a>
    	</span>
    	<li><p class="text-muted">Created on {{project.createdDate  | date:'medium'}}</p></li>
    	<li>|</li>
    	<li><a href="#" onaftersave="updateProject(project)" buttons="no" editable-text="project.name">{{ project.name || 'Name' }}</a></li>
    	<li>|</li>
    	<li><a href="#" onaftersave="updateProject(project)"  editable-textarea="project.description" e-rows="3">{{project.description || "Description"}}</a></li>
    	<li>|</li>
    	<li data-ng-if="!project.isnew"><p class="text-warning">{{project.numberOfTasks}} task(s)</p></li>
    	<li data-ng-if="!project.isnew">|</li>
    	<li data-ng-if="!project.isnew"><p class="text-warning">{{project.numberOfEmployes}} employee(s)</p></li>
    	<li data-ng-if="!project.isnew">|</li>
    	<li><button type="button" class="btn btn-success btn-xs" data-ng-if="project.isnew" data-ng-click="saveProject(project,client)">Save</button></li>
    	<li><button type="button" class="btn btn-danger btn-xs" data-ng-if="project.isnew" data-ng-click="deleteProject(project,$index)">Cancel</button></li>
    </ul>
  </li>
</ul>
<h3 class="header smaller lighter blue">{{client.contacts.length}} Contacs for {{ client.name || 'Name' }}</h3>
<div data-contacts-manager data-contacts-manager-config="contactsManagerConfig"></div>
<h3 class="header smaller lighter blue"><i class="fa fa-rss orange"></i>Last activities on {{ client.name}}</h3>
<activities-timeline data-source="timelineSource"></activities-timeline>
<div class="row ng-cloak ng-table-pager">
	<div ng-if="params.settings().counts.length"
		class="ng-table-counts btn-group pull-right">
		<button ng-repeat="count in params.settings().counts" type="button"
			ng-class="{\'active\':params.count()==count}"
			ng-click="params.count(count)" class="btn btn-default btn-xs">
			<span ng-bind="count"></span>
		</button>
	</div>
	<ul class="pagination ng-table-pagination">
		<li ng-class="{\'disabled\': !page.active}" ng-repeat="page in pages"
			ng-switch="page.type"><a ng-switch-when="prev"
			ng-click="params.page(page.number)" href="">&laquo;</a> <a
			ng-switch-when="first" ng-click="params.page(page.number)" href=""><span
				ng-bind="page.number"></span></a> <a ng-switch-when="page"
			ng-click="params.page(page.number)" href=""><span
				ng-bind="page.number"></span></a> <a ng-switch-when="more"
			ng-click="params.page(page.number)" href="">&#8230;</a> <a
			ng-switch-when="last" ng-click="params.page(page.number)" href=""><span
				ng-bind="page.number"></span></a> <a ng-switch-when="next"
			ng-click="params.page(page.number)" href="">&raquo;</a></li>
	</ul>
</div>
