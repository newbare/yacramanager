<div class="panel panel-default am-fade">
	<div class="panel-body">
		<div class="row">
			<div class="col-md-4">
				<!-- Single button -->
				<div class="">
					<button type="button" class="btn btn-primary"  data-toggle="modal" data-target="#editionFormModal">
						<span class="fa fa-plus-square" ></span> Ajouter 
					</button>
					<button type="button" class="btn btn-default"
						data-ng-show="initialSelectionChanged || edition" ng-click="reset()">
						Cancel</button>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="modal fade" id="editionFormModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			  <div class="modal-dialog">
			    <div class="modal-content">
			      <div class="modal-header">
			        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
			        	<h3 data-ng-show="!edition" class="panel-title">Nouvelle note de frais</h3>
						<h3 data-ng-show="edition" class="panel-title">Edition de la note de frais</h3>
			      </div>
			      <div class="modal-body">
			        	<form role="form" >
						<div class="form-group">
							<label for="datepicker">Date</label>
							<div class="input-group" id="datepicker">
								<input type="text" class=" form-control " name="start"
									data-ng-model="currentNote.date" placeholder="Date"
									data-bs-datepicker />
								<span class="input-group-addon"><i class="fa fa-calendar"></i></span>
							</div>
						</div>
						<div class="form-group">
							<label for="noteMontant">Montant</label> 
							<div class="input-group">
								<input type="text" class="form-control" id="noteMontant"data-ng-model="currentNote.amount"	placeholder="Montant">
								<span class="input-group-addon"><i class="fa fa-eur"></i></span>
							</div>
						</div>
						<div class="form-group">
							<label for="noteDescription">Description</label> <input
								type="text" class="form-control" id="noteDescription"
								data-ng-model="currentNote.description"
								placeholder="Description (facultatif)">
						</div>
						<div class="form-group">
						   <!--  <label for="attachement">Attachement</label> -->
						    <input type="file" id="attachement" data-ng-file-select="onFileSelect($files)" data-filename-placement="inside" data-file-Input>
					  	</div> 
						
					</form>
			      </div>
			      <div class="modal-footer">
			        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			        <button type="button" class="btn btn-primary"	data-ng-click="postAttachement()" data-ng-show="!edition" >Post</button>
					<button type="button" class="btn btn-primary"	data-ng-click="putNote()" data-ng-show="edition" >Edit</button>
			      </div>
			    </div><!-- /.modal-content -->
			  </div><!-- /.modal-dialog -->
			</div><!-- /.modal -->
		</div>
		<div class="row">
			<div class="alert alert-info" role="alert" data-ng-show="!hasDatas">
				<h4>No data for this range</h4>
			</div>
			<div class="row pull-right" data-ng-show="hasDatas"> 
				<div class="btn-group">
				  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" data-ng-disabled="selectedNotes.length<=1">
				    <i class="fa fa-cog"></i> Bulk <span  data-ng-show ="selectedNotes.length>1" class="badge">{{selectedNotes.length}}</span> <span class="caret"></span>
				  </button>
				  <ul class="dropdown-menu" role="menu">
				    <li><a href="" data-ng-click="deleteSelectedNote()"><i class="fa fa-trash-o" style="color: red;"></i>Delete</a></li>
				  </ul>
				</div>
			</div>
			
			<div class="table-responsive">
				<table class="table table-striped table-condensed table-hover" ng-table="tableParams" show-filter="true" ng-show="hasDatas" template-pagination="custom/pager">
					<thead>
						<tr colspan="6" >
							<th align="center"><span>Total items found: {{params.settings().total}} </span></th>
						</tr>
						<tr align="left">
							<th>
								<label class="checkbox-inline">
								  <input type="checkbox" data-ng-model="checkboxes.checked" id="select_all" name="filter-checkbox" value="" />All
								</label>
							</th>
							<th>Date</th>
							<th>Description</th>
							<th>Montant</th>
							<th style="width:20px;" align="center"><i class="fa fa-paperclip"></i></th>
							<th style="width:20px;"></th>
						</tr>
					</thead>
					<tbody>
						<tr align="left" data-ng-repeat="note in $data">
							<td>
								<label class="checkbox-inline">
								  <input type="checkbox"  data-ng-model="checkboxes.items[note.id]">
								</label>
							</td>
							<td>{{ note.date | date : 'short'}}</td>
							<td>{{ note.description}}</td>
							<td>{{ note.amount}} </td>
							<td>
								<a href="rest/attachements/{{id}}" data-ng-repeat="id in note.attachementsIds" data-ng-show="note.attachementsIds.length>0" >
									<i class="fa fa-cloud-download"></i>
								</a>
							</td>
							<td>
								<div class="btn-group">
								  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
								    <i class="fa fa-cog"></i>
								  </button>
								  <ul class="dropdown-menu" role="menu">
								    <li><a href="" data-ng-click="editNote(note.id)"><i class="fa fa-pencil-square-o"></i>Edit</a></li>
								    <li class="divider"></li>
								    <li><a href="" data-ng-click="deleteNote(note.id)"><i class="fa fa-trash-o" style="color: red;"></i>Delete</a></li>
								  </ul>
								</div>
							</td>
						</tr>
					</tbody>
				</table>
				<script type="text/ng-template" id="custom/pager">
					<div class="ng-cloak ng-table-pager"> 
						<div class="row">
							<div ng-if="params.settings().counts.length" class="ng-table-counts btn-group pull-right"> 
								<button ng-repeat="count in params.settings().counts" type="button" ng-class="{'active':params.count()==count}" ng-click="params.count(count)" class="btn btn-default"> 
									<span ng-bind="count"></span> 
								</button>
			 				</div>
							<ul class="pagination ng-table-pagination"> 
								<li ng-class="{'disabled': !page.active}" ng-repeat="page in pages" ng-switch="page.type">
									<a ng-switch-when="prev" ng-click="params.page(page.number)" href="">&laquo;</a> 
									<a ng-switch-when="first" ng-click="params.page(page.number)" href="">
										<span ng-bind="page.number"></span>
									</a> 
									<a ng-switch-when="page" ng-click="params.page(page.number)" href="">
										<span ng-bind="page.number"></span>
									</a> 
									<a ng-switch-when="more" ng-click="params.page(page.number)" href="">&#8230;</a> 
									<a ng-switch-when="last" ng-click="params.page(page.number)" href="">
										<span ng-bind="page.number"></span>
									</a> 
									<a ng-switch-when="next" ng-click="params.page(page.number)" href="">&raquo;</a> 
								</li> 
								<li>
									<span class="">djfkldj</span>
								</li>
							</ul>
						</div> 
					</div>
				</script>
				
				 
				
			</div>
		</div>
	</div>
</div>
